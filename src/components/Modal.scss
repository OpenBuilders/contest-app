.modal-overlay {
   background-color: rgba(16, 16, 16, 0.75);
   touch-action: none;
   backdrop-filter: blur(8px);
   position: fixed;
   inset: 0;
   display: flex;
   align-items: flex-end;
}

.modal-content {
   width: 100%;
   animation: slide-up 0.2s ease;
   border-top-right-radius: 1rem;
   border-top-left-radius: 1rem;
   background-color: var(--modal-bg) !important;
   padding-bottom: calc(
      max(var(--tg-viewport-safe-area-inset-bottom), 1rem) +
         var(--tg-viewport-content-safe-area-inset-bottom)
   );
   position: relative;
}

.modal-handle-container {
   .modal-handle {
      display: none;
      width: 4rem;
      background-color: var(--text-color) !important;
      border-radius: 1rem;
      height: 0.25rem;
      opacity: 0.125;
      text-align: center;
      margin: auto;
   }
}

.modal-close {
   position: absolute;
   width: 1.875rem;
   height: 1.875rem;
   top: 1rem;
   inset-inline-end: 1.75rem;
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   text-align: center;
   background-color: var(--section-bg-color);
   color: rgba(var(--text-color-rgb), 0.5);
   font-size: 1.25rem;
}

[class*="modal-"][class*="-overflow-hidden"] {
   overflow: hidden;
}

.modal-content.modal-is-closing {
   animation: slide-down 0.2s ease;
}

.modal-handle-container {
   /* padding: 1rem 0; */
   height: 1.5rem;
   margin: 0 auto;
}

@keyframes slide-up {
   from {
      transform: translateY(100%);
   }
}

@keyframes slide-down {
   to {
      transform: translateY(100%);
   }
}

.modal.fullscreen {
   .modal-close {
      display: none;
   }

   .modal-handle-container {
      display: none;
   }

   .modal-content {
      border-radius: 0;
   }

   > div {
      > div {
         height: 100%;
         padding-top: calc(
            var(--tg-viewport-safe-area-inset-top) +
               var(--tg-viewport-content-safe-area-inset-top)
         );

         > div:last-child {
            height: 100%;
         }
      }
   }
}
